{"version":3,"file":"index.js","sources":["../src/js/books-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = \"https://openlibrary.org/search.json\";\n\nexport function getBooksByQuery(query) {\n    return axios.get(BASE_URL, {\n        params: {\n            q: query,\n        }\n            \n    }).then(response => response.data).then(data => data.docs);\n};\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { refs } from \"../main\";\n\n\nconst lightbox = new SimpleLightbox('.js-gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n})\n\n\nexport function createGallery(books) {\n    const markup = books.map(({ title, author_name, cover_i, first_publish_year }) => {\n        return `<li>\n            <a href=\"https://covers.openlibrary.org/b/id/${cover_i}-L.jpg\">\n              <img src=\"https://covers.openlibrary.org/b/id/${cover_i}-M.jpg\" alt=\"${title}\" />\n              <ul>\n                <li><h2>${title}</h2></li>\n                <li><h3>${author_name}</h3></li>\n                <li><p>${first_publish_year}</p></li>\n              </ul>\n            </a>\n          </li>`\n    }).join('');\n\n    refs.list.innerHTML = markup;\n    lightbox.refresh();\n};\n\nexport function clearGallery() {\n    refs.list.innerHTML = '';\n};\n\nexport function showLoader(){\n    refs.loader.classList.remove('hidden');\n};\n\nexport function hideLoader() {\n    refs.loader.classList.add('hidden');\n};","import { getBooksByQuery } from \"./js/books-api\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { clearGallery, createGallery, hideLoader, showLoader } from \"./js/render-functions\";\n\n\n\nexport const refs = {\n    form: document.querySelector('.js-form'),\n    list: document.querySelector('.js-gallery'),\n    loader: document.querySelector('.js-loader'),\n};\n\n\nrefs.form.addEventListener('submit', e => {\n    e.preventDefault();\n\n    const formData = new FormData(refs.form);\n    const query = formData.get('search-text');\n\n    showLoader();\n    clearGallery();\n    getBooksByQuery(query).then(books => {\n        if (books.length === 0) {\n            return iziToast.error({\n                message: 'За вашим запитом нічого не знайдено',\n                position: \"topRight\",\n            })\n        }\n        createGallery(books);\n    }).catch(err => console.error(err)).finally(() => hideLoader());\n\n    refs.form.reset();\n})"],"names":["BASE_URL","getBooksByQuery","query","axios","response","data","lightbox","SimpleLightbox","createGallery","books","markup","title","author_name","cover_i","first_publish_year","refs","clearGallery","showLoader","hideLoader","e","iziToast","err"],"mappings":"owBAEA,MAAMA,EAAW,sCAEV,SAASC,EAAgBC,EAAO,CACnC,OAAOC,EAAM,IAAIH,EAAU,CACvB,OAAQ,CACJ,EAAGE,CACN,CAET,CAAK,EAAE,KAAKE,GAAYA,EAAS,IAAI,EAAE,KAAKC,GAAQA,EAAK,IAAI,CAC7D,CCNA,MAAMC,EAAW,IAAIC,EAAe,gBAAiB,CACjD,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAC,EAGM,SAASC,EAAcC,EAAO,CACjC,MAAMC,EAASD,EAAM,IAAI,CAAC,CAAE,MAAAE,EAAO,YAAAC,EAAa,QAAAC,EAAS,mBAAAC,KAC9C;AAAA,2DAC4CD,CAAO;AAAA,8DACJA,CAAO,gBAAgBF,CAAK;AAAA;AAAA,0BAEhEA,CAAK;AAAA,0BACLC,CAAW;AAAA,yBACZE,CAAkB;AAAA;AAAA;AAAA,gBAItC,EAAE,KAAK,EAAE,EAEVC,EAAK,KAAK,UAAYL,EACtBJ,EAAS,QAAO,CACpB,CAEO,SAASU,GAAe,CAC3BD,EAAK,KAAK,UAAY,EAC1B,CAEO,SAASE,GAAY,CACxBF,EAAK,OAAO,UAAU,OAAO,QAAQ,CACzC,CAEO,SAASG,GAAa,CACzBH,EAAK,OAAO,UAAU,IAAI,QAAQ,CACtC,CCjCO,MAAMA,EAAO,CAChB,KAAM,SAAS,cAAc,UAAU,EACvC,KAAM,SAAS,cAAc,aAAa,EAC1C,OAAQ,SAAS,cAAc,YAAY,CAC/C,EAGAA,EAAK,KAAK,iBAAiB,SAAUI,GAAK,CACtCA,EAAE,eAAc,EAGhB,MAAMjB,EADW,IAAI,SAASa,EAAK,IAAI,EAChB,IAAI,aAAa,EAExCE,IACAD,IACAf,EAAgBC,CAAK,EAAE,KAAKO,GAAS,CACjC,GAAIA,EAAM,SAAW,EACjB,OAAOW,EAAS,MAAM,CAClB,QAAS,sCACT,SAAU,UAC1B,CAAa,EAELZ,EAAcC,CAAK,CACtB,CAAA,EAAE,MAAMY,GAAO,QAAQ,MAAMA,CAAG,CAAC,EAAE,QAAQ,IAAMH,EAAU,CAAE,EAE9DH,EAAK,KAAK,OACd,CAAC"}